{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';// To handle redirects\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserDashboard=()=>{const[username,setUsername]=useState('');const[loading,setLoading]=useState(true);const navigate=useNavigate();// Fetch the logged-in user details\nuseEffect(()=>{const fetchUser=async()=>{try{const response=await fetch('/api/user',{method:'GET',credentials:'include'// Make sure to include cookies for session validation\n});if(response.ok){const data=await response.json();setUsername(data.user.username);// Assuming the backend returns the user object with username\n}else{// If the response is not okay, redirect to the register page\nnavigate('/register');}}catch(error){console.error('Error fetching user data:',error);navigate('/register');// If there's an error, redirect to the register page\n}finally{setLoading(false);// Hide the loading spinner once the API call is done\n}};fetchUser();},[navigate]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Display a loading indicator while fetching user data\n}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome, \",username,\"!\"]})]});};export default UserDashboard;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","UserDashboard","username","setUsername","loading","setLoading","navigate","fetchUser","response","fetch","method","credentials","ok","data","json","user","error","console","children"],"sources":["/home/ubuntu/hackmo/hackmo/src/components/UserDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom'; // To handle redirects\n\nconst UserDashboard = () => {\n  const [username, setUsername] = useState('');\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  // Fetch the logged-in user details\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await fetch('/api/user', {\n          method: 'GET',\n          credentials: 'include', // Make sure to include cookies for session validation\n        });\n        \n        if (response.ok) {\n          const data = await response.json();\n          setUsername(data.user.username); // Assuming the backend returns the user object with username\n        } else {\n          // If the response is not okay, redirect to the register page\n          navigate('/register');\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n        navigate('/register'); // If there's an error, redirect to the register page\n      } finally {\n        setLoading(false); // Hide the loading spinner once the API call is done\n      }\n    };\n\n    fetchUser();\n  }, [navigate]);\n\n  if (loading) {\n    return <div>Loading...</div>; // Display a loading indicator while fetching user data\n  }\n\n  return (\n    <div>\n      <h1>User Dashboard</h1>\n      <p>Welcome, {username}!</p>\n    </div>\n  );\n};\n\nexport default UserDashboard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAAY,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B;AACAD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,WAAW,CAAE,CACxCC,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SAAW;AAC1B,CAAC,CAAC,CAEF,GAAIH,QAAQ,CAACI,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClCX,WAAW,CAACU,IAAI,CAACE,IAAI,CAACb,QAAQ,CAAC,CAAE;AACnC,CAAC,IAAM,CACL;AACAI,QAAQ,CAAC,WAAW,CAAC,CACvB,CACF,CAAE,MAAOU,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDV,QAAQ,CAAC,WAAW,CAAC,CAAE;AACzB,CAAC,OAAS,CACRD,UAAU,CAAC,KAAK,CAAC,CAAE;AACrB,CACF,CAAC,CAEDE,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEd,GAAIF,OAAO,CAAE,CACX,mBAAON,IAAA,QAAAoB,QAAA,CAAK,YAAU,CAAK,CAAC,CAAE;AAChC,CAEA,mBACElB,KAAA,QAAAkB,QAAA,eACEpB,IAAA,OAAAoB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBlB,KAAA,MAAAkB,QAAA,EAAG,WAAS,CAAChB,QAAQ,CAAC,GAAC,EAAG,CAAC,EACxB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAD,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}